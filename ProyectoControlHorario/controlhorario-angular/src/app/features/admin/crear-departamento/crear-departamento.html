<nav class="navbar">
  <div class="nav-brand">ğŸ• Control Horario</div>
  <div class="nav-user">{{ (authService.currentUser$ | async)?.username }} ({{ (authService.currentUser$ | async)?.rol }})</div>
</nav>

<div class="container" style="margin-top: 100px;">
  <div class="back-link">
    <a (click)="goToDashboard()" style="cursor: pointer;">â† Volver al Dashboard</a>
  </div>

  <div style="max-width: 600px; margin: 0 auto;">
    <div class="form-container">
      <h1>ğŸ¢ Crear Departamento</h1>
      <p class="subtitle">Agregar nuevos departamentos al sistema</p>

      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="nombreDepartamento">Nombre del Departamento *</label>
          <input 
            type="text" 
            id="nombreDepartamento"
            name="nombreDepartamento"
            [(ngModel)]="nombreDepartamento"
            placeholder="Ej: Marketing, Ventas, IT..." 
            required
            [disabled]="isLoading"
            minlength="2">
        </div>

        <button 
          type="submit" 
          class="btn btn-primary btn-block"
          [disabled]="isLoading">
          {{ isLoading ? 'â³ Creando departamento.. .' : 'â• Crear Departamento' }}
        </button>
      </form>

      <!-- Mensajes -->
      <div *ngIf="successMessage" class="response success" style="display: block;">
        {{ successMessage }}
      </div>

      <div *ngIf="errorMessage" class="response error" style="display: block;">
        {{ errorMessage }}
      </div>
    </div>

    <!-- Lista de departamentos existentes -->
    <div *ngIf="departamentos.length > 0" style="background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); margin-top: 30px;">
      <h3 style="margin-bottom: 20px; color:  #333;">ğŸ¢ Departamentos Existentes</h3>
      
      <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px;">
        <div *ngFor="let dept of departamentos" 
             style="padding: 15px; background: white; border-radius: 8px; border-left: 4px solid #667eea; box-shadow: 0 2px 5px rgba(0,0,0,0.1);">
          <div style="font-weight: bold; color: #333;">ğŸ¢ {{ dept }}</div>
        </div>
      </div>

      <p style="margin-top: 15px; color:  #666; font-size: 0.9em; text-align: center;">
        Total: {{ departamentos.length }} departamento(s)
      </p>
    </div>
  </div>
</div>
